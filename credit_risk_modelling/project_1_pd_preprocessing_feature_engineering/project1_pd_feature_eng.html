<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>PD Model: Preprocessing & Feature Engineering | Gnaneswar Reddy</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      padding: 40px;
      background-color: #f9f9f9;
      color: #333;
    }
    h1, h2 {
      color: #2c3e50;
    }
    pre {
      background: #efefef;
      padding: 10px;
      overflow-x: auto;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 30px;
    }
    table, th, td {
      border: 1px solid #ccc;
    }
    th, td {
      padding: 10px;
      text-align: center;
    }
    .nav-button {
      display: inline-block;
      margin-bottom: 20px;
      padding: 10px 15px;
      background-color: #3498db;
      color: white;
      text-decoration: none;
      border-radius: 8px;
    }
    .nav-button:hover {
      background-color: #2c80b4;
    }
  </style>
</head>
<body>

<a class="nav-button" href="/credit_risk_modelling/index.html">⬅ Back to Home</a>

<h1>PD Model: Preprocessing and Feature Engineering</h1>

<h2>1. Business Motivation</h2>
<p>
Credit risk modeling is a core component of banking. Financial institutions must assess the risk of default before offering loans. The <strong>Probability of Default (PD)</strong> model predicts how likely a borrower is to default, helping banks reduce losses, assign interest rates, and meet regulatory expectations (e.g., Basel norms).
</p>

<h2>2. Definitions of Risk Components</h2>
<ul>
  <li><strong>PD (Probability of Default)</strong>: Likelihood that a borrower fails to repay.</li>
  <li><strong>LGD (Loss Given Default)</strong>: Amount of money lost if the borrower defaults.</li>
  <li><strong>EAD (Exposure at Default)</strong>: Total value at risk when the borrower defaults.</li>
  <li><strong>Expected Loss</strong> = PD × LGD × EAD</li>
</ul>

<h2>3. Understanding Variable Types</h2>
<ul>
  <li><strong>Dependent Variable</strong>: The target (e.g., default: 1 or 0).</li>
  <li><strong>Independent Variables</strong>: Predictors like income, age, balance, etc.</li>
  <li><strong>Continuous Variables</strong>: Income, interest rate, utilization — handled via binning, WoE, standardization.</li>
  <li><strong>Discrete/Categorical Variables</strong>: Grade, occupation — handled via dummy encoding, WoE if ordered.</li>
</ul>

<h3>Preprocessing Strategy</h3>
<p>For continuous variables, we explored:</p>
<ul>
  <li>Manual and automated binning</li>
  <li>Monotonicity checks</li>
  <li>Weight of Evidence (WoE) transformation</li>
</ul>

<pre><code># Example: WoE calculation snippet
woe = np.log((prop_good + 1e-6) / (prop_bad + 1e-6))
</code></pre>

<h2>4. Why Use WoE & IV?</h2>
<p>
Weight of Evidence (WoE) provides a monotonic and interpretable transformation of categorical/continuous variables. It shows the predictive power of each bin or category. It's preferred for logistic regression because it aligns better with linearity assumptions.
</p>

<h3>Benefits:</h3>
<ul>
  <li>Interpretability: Shows clear risk segmentation</li>
  <li>Handles missing and rare categories better</li>
  <li>Supports variable selection using IV (Information Value)</li>
</ul>

<h2>5. Sample WoE Table</h2>

<table>
  <thead>
    <tr>
      <th>Bin</th>
      <th>n_obs</th>
      <th>n_good</th>
      <th>n_bad</th>
      <th>prop_n_good</th>
      <th>prop_n_bad</th>
      <th>WoE</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>A</td>
      <td>59759</td>
      <td>57431</td>
      <td>2328</td>
      <td>0.172855</td>
      <td>0.057090</td>
      <td>1.105</td>
    </tr>
    <tr>
      <td>B</td>
      <td>109730</td>
      <td>101063</td>
      <td>8667</td>
      <td>0.304178</td>
      <td>0.212541</td>
      <td>0.370</td>
    </tr>
    <tr>
      <td>...</td>
      <td colspan="6">Other grades follow similar logic</td>
    </tr>
  </tbody>
</table>

<h3>How Each Column is Calculated:</h3>
<ul>
  <li><strong>n_obs</strong>: Total observations in that bin</li>
  <li><strong>n_good</strong>: Count of non-defaults</li>
  <li><strong>n_bad</strong>: Count of defaults</li>
  <li><strong>prop_n_good</strong>: n_good / total_good</li>
  <li><strong>prop_n_bad</strong>: n_bad / total_bad</li>
  <li><strong>WoE</strong>: ln(prop_n_good / prop_n_bad)</li>
</ul>

<h2>6. Factors Influencing Default</h2>
<p>
Several real-world factors influence the probability of default:
</p>
<ul>
  <li><strong>Customer-level</strong>: Job loss, spending behavior, credit card usage</li>
  <li><strong>Macroeconomic</strong>: Inflation, interest rate hikes, recession</li>
  <li><strong>Policy-related</strong>: Regulatory changes, taxation</li>
</ul>

<h2>7. Final Goals</h2>
<p>
The ultimate goal is to build a clean, reliable PD model using interpretable and regulatory-accepted transformations. By focusing on WoE and meaningful binning, we can deliver a scorecard-ready model suitable for deployment in real banking scenarios.
</p>

<a class="nav-button" href="/credit_risk_modelling/index.html">⬅ Back to Home</a>

</body>
</html>
